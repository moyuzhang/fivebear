# 热重载功能测试指南

## 🎯 测试目标
验证前后端热重载功能是否正常工作

## 🔧 测试步骤

### 1. 启动开发环境
```bash
# Windows
./start-dev.bat

# Linux/Mac  
./start-dev.sh
```

### 2. 测试后端热重载

#### 测试场景1：修改控制器
1. 打开文件：`backend/src/main/java/com/fivebear/auth/controller/AuthController.java`
2. 在login方法中添加一行日志：
   ```java
   System.out.println("=== 热重载测试：登录接口被调用 ===");
   ```
3. 保存文件
4. 观察后端控制台，应该看到：
   - 检测到文件变更
   - 应用自动重启
   - 重启完成提示

#### 测试场景2：修改配置文件
1. 打开文件：`backend/src/main/resources/application-dev.yml`
2. 修改日志级别：
   ```yaml
   logging:
     level:
       '[com.fivebear]': info  # 改为 info
   ```
3. 保存文件
4. 观察日志输出级别变化

### 3. 测试前端热重载

#### 测试场景1：修改Vue组件
1. 打开文件：`frontend/src/views/Login.vue`
2. 修改登录标题：
   ```vue
   <h2>FiveBear 系统登录 - 热重载测试</h2>
   ```
3. 保存文件
4. 观察浏览器页面，应该立即看到标题变化

#### 测试场景2：修改样式
1. 在Login.vue的style部分添加：
   ```css
   .login-header h2 {
     color: #ff6b35; /* 橙色测试 */
   }
   ```
2. 保存文件
3. 观察浏览器页面，标题颜色应该立即变化

#### 测试场景3：修改逻辑代码
1. 在Login.vue的handleLogin方法中添加：
   ```javascript
   console.log('🔥 热重载测试：登录按钮被点击');
   ```
2. 保存文件
3. 点击登录按钮，查看浏览器控制台输出

### 4. 测试API代理

#### 测试登录功能
1. 在浏览器中访问：http://localhost:3000
2. 输入用户名密码进行登录
3. 打开浏览器开发者工具的Network标签
4. 观察请求是否正确代理到后端（请求URL应该是localhost:3000/api/xxx，实际转发到localhost:8080）

## ✅ 预期结果

### 后端热重载
- [ ] 修改Java代码后自动重启（通常10-30秒）
- [ ] 控制台显示重启日志
- [ ] 新功能立即生效
- [ ] 配置文件变更实时生效

### 前端热重载
- [ ] Vue组件修改立即更新（1-3秒）
- [ ] 样式修改实时预览
- [ ] 不刷新页面状态保持
- [ ] 控制台显示HMR日志

### API代理
- [ ] 前端请求正确转发到后端
- [ ] 跨域问题自动解决
- [ ] 请求响应正常
- [ ] 代理日志在控制台显示

## 🐛 问题排查

### 后端热重载不工作
1. 检查IDE是否开启自动编译
2. 确认DevTools依赖已添加
3. 查看是否有编译错误
4. 检查文件保存是否成功

### 前端热更新不工作
1. 清除浏览器缓存
2. 重启前端开发服务器
3. 检查控制台错误信息
4. 确认文件保存路径正确

### 代理请求失败
1. 确认后端服务已启动
2. 检查端口是否被占用
3. 查看代理配置是否正确
4. 检查网络连接

## 📊 性能指标

| 项目 | 预期时间 | 备注 |
|------|----------|------|
| 后端代码热重载 | 10-30秒 | 取决于项目大小 |
| 前端组件热更新 | 1-3秒 | 仅更新修改部分 |
| 样式热更新 | < 1秒 | 实时预览 |
| API响应时间 | < 2秒 | 包含代理转发 |

## 🎉 测试完成标志
- ✅ 所有热重载功能正常
- ✅ 开发效率显著提升
- ✅ 无需手动重启服务
- ✅ 代码修改即时生效 